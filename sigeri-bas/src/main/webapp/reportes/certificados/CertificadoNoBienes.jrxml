<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="CertificadoNoBienes" language="groovy" pageWidth="595" pageHeight="842" columnWidth="470" leftMargin="45" rightMargin="80" topMargin="0" bottomMargin="0" uuid="e70bf7b3-10e4-457b-953e-a72467c75fab">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="negrita" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\Anyelo\\Desktop\\NetBeansProjects\\registro-portoviejo\\src\\main\\webapp\\reportes\\registro\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="USER_NAME" class="java.lang.String"/>
	<parameter name="ID_CERTIFICADO" class="java.lang.Long"/>
	<parameter name="EMISION" class="java.util.Date"/>
	<parameter name="NOMBRES" class="java.lang.String"/>
	<parameter name="REGISTRADOR" class="java.lang.String"/>
	<parameter name="HEADER_URL" class="java.lang.String"/>
	<parameter name="FOOTER_URL" class="java.lang.String"/>
	<parameter name="WATERMARK_URL" class="java.lang.String"/>
	<parameter name="ADICIONAL" class="java.lang.Boolean"/>
	<parameter name="FIRMA_DIGITAL" class="java.lang.String"/>
	<queryString>
		<![CDATA[select c.num_certificado, en.ced_ruc, en.nombre, c.propietario, c.observacion,
c.con_bienes, to_char(c.fecha_emision, 'yyyy') as anio, c.linderos_registrales,
c.beneficiario, c.num_tramite, c.nombre_solicitante, c.uso_documento, c.descripcion_bien,
liq.codigo_comprobante, (to_char(c.fecha_emision, 'yyyy')||'-'||c.num_tramite)
as codigo_certificado, c.cod_verificacion, liq.tramite_online,
'C' || c.cod_verificacion as qrcode,
(select razon_reporte from app.reg_registrador where actual is true) as accion_personal,
c.num_tramite, coalesce(uc.apellidos, '') || ' ' || coalesce(uc.nombres, '') as user_certificado, c.fecha_emision, cr.usuario as usuario_certificado
from app.reg_certificado c
left join app.reg_ente_interviniente en on (en.id = c.propietario)
left join flow.regp_tareas_tramite tt on tt.id = c.tarea_tramite
left join flow.regp_liquidacion_detalles ld on ld.id = tt.detalle
left join flow.regp_liquidacion liq on liq.id = ld.liquidacion
left join app.acl_user cr on (cr.id = c.user_creador)
left join app.cat_ente uc on (uc.id = cr.ente)
where c.id = $P{ID_CERTIFICADO}]]>
	</queryString>
	<field name="num_certificado" class="java.lang.Long"/>
	<field name="ced_ruc" class="java.lang.String"/>
	<field name="nombre" class="java.lang.String"/>
	<field name="propietario" class="java.lang.Long"/>
	<field name="observacion" class="java.lang.String"/>
	<field name="con_bienes" class="java.lang.Boolean"/>
	<field name="anio" class="java.lang.String"/>
	<field name="linderos_registrales" class="java.lang.String"/>
	<field name="beneficiario" class="java.lang.String"/>
	<field name="num_tramite" class="java.lang.Long"/>
	<field name="nombre_solicitante" class="java.lang.String"/>
	<field name="uso_documento" class="java.lang.String"/>
	<field name="descripcion_bien" class="java.lang.String"/>
	<field name="codigo_comprobante" class="java.lang.String"/>
	<field name="codigo_certificado" class="java.lang.String"/>
	<field name="cod_verificacion" class="java.lang.String"/>
	<field name="tramite_online" class="java.lang.Boolean"/>
	<field name="qrcode" class="java.lang.String"/>
	<field name="accion_personal" class="java.lang.String"/>
	<field name="user_certificado" class="java.lang.String"/>
	<field name="fecha_emision" class="java.sql.Timestamp"/>
	<field name="usuario_certificado" class="java.lang.String"/>
	<background>
		<band height="840" splitType="Stretch">
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle">
				<reportElement x="-10" y="10" width="492" height="830" uuid="e59d8d02-49d4-4774-b212-d5bf1719d964"/>
				<imageExpression><![CDATA[$P{WATERMARK_URL}]]></imageExpression>
			</image>
		</band>
	</background>
	<pageHeader>
		<band height="105" splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="98" splitType="Stretch">
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="60" width="470" height="18" uuid="87d2ffe1-b379-46dc-be5f-65fd0efa7c14"/>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[SE CERTIFICA:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="78" width="470" height="16" isPrintWhenDetailOverflows="true" uuid="040e8523-cd35-4161-a915-e5eb5e3967c0"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["1.- Que a nombre de: <style pdfFontName=\"Helvetica-Bold\">" + $F{linderos_registrales}.toUpperCase() +
"</style> con CC/RUC/PAS N° <style pdfFontName=\"Helvetica-Bold\">" + $F{beneficiario} + "</style> " +
"NO SE ENCUENTRA INSCRITO NINGÚN BIEN INMUEBLE, en este Registro de la Propiedad, hasta la presente fecha. " +
($F{descripcion_bien} != null ? $F{descripcion_bien} : "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" mode="Opaque" x="0" y="28" width="470" height="17" forecolor="#000000" backcolor="#CCCCCC" uuid="e3368f10-3528-416d-be15-21b0132ef0e9"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[CERTIFICADO DE NO POSEER BIENES INMUEBLES]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" x="95" y="0" width="300" height="14" uuid="bd1a5462-1934-4639-a05e-ce6895b4a0bb"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[java.lang.String.format("%08d", $F{num_certificado}) + "-" + $F{codigo_certificado}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="0" width="95" height="14" uuid="a0b2ef4c-0350-4de6-943c-13ec2e491f8d"/>
				<textElement verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Nº de Certificado:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" x="95" y="14" width="300" height="14" uuid="2883de5b-e04b-46a9-b1e0-55ecd51d943c"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{fecha_emision}]]></textFieldExpression>
				<patternExpression><![CDATA["dd MMMMM yyyy HH:mm"]]></patternExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="14" width="95" height="14" uuid="bb9c6e50-675e-4a24-954a-2aa6b71cac42"/>
				<textElement verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Emisión:]]></text>
			</staticText>
		</band>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="470" height="16" isPrintWhenDetailOverflows="true" uuid="7b35ac07-0ff9-467b-a53d-2e05392af6a4"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["2.- Este Registro Público no se responsabiliza por los datos erróneos, inexactos o con omisiones que hayan sido proporcionados por los particulares y que puedan inducir o hayan inducido a error o equivocación a la entidad, así como del uso doloso o fraudulento del documento, en concordancia del art. 4 de la Ley Orgánica de Registro de Datos Públicos."]]></textFieldExpression>
			</textField>
		</band>
		<band height="72" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="54" width="470" height="8" isRemoveLineWhenBlank="true" uuid="700342ed-a0c0-45f1-9783-5e2f1d422d5b"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["DE LA NORMATIVA LEGAL: Esta certificación ha sido emitida con sustento en los artículos 2, 6, 7, 13 y 51 de la Ley de Comercio Electrónico, Firmas Electrónicas y Mensajes de Datos, artículo 3 inciso 3 de la Ley Orgánica del Sistema Nacional de Registro de Datos Públicos, artículo 202 del Código Orgánico General de Procesos y demás normativa aplicable, así como en el instructivo para la emisión de certificados en línea."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="38" width="470" height="8" isRemoveLineWhenBlank="true" uuid="17088d46-99a0-4a78-921c-0a3cd6c43396"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["DE LA VIGENCIA: La presente certificación se confiere según los registros que constan en la BASE DE DATOS del Registro de la Propiedad Inmobiliaria y Mercantil del Cantón Latacunga, válidos e ingresados hasta la presente fecha, la que tendrá plena vigencia por un periodo de un mes contando a partir de la fecha de emisión, salvo que antes se modifique algún dato del contenido de la información registral."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="62" width="470" height="8" isRemoveLineWhenBlank="true" uuid="da5e186c-bbc0-4b85-b81f-e76ab9e68a7c"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["DE LA RECTIFICACIÓN: En el caso de detectar una información errónea que contenga este certificado, el usuario puede solicitar la rectificación en el Registro de la Propiedad Inmobiliaria y Mercantil del Cantón Latacunga."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="30" width="470" height="8" isRemoveLineWhenBlank="true" uuid="2985d502-3b87-4566-9292-2811c43c0b5f"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["NOTAS ACLARATORIAS: "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="46" width="470" height="8" isRemoveLineWhenBlank="true" uuid="00f8d07b-0b92-4f9c-bb3b-41fc0eeb6209"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["DE LA VALIDACIÓN: Para validar la vigencia de la información favor ingresar el código de verificación del documento en la página web del Registro de la Propiedad Inmobiliaria y Mercantil del Cantón Latacunga o leyendo el código QR desde la aplicación móvil oficial."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="470" height="16" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="4113bc05-0035-4dd0-8fee-aeaaf4aaac12"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11" isBold="false"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["3.- El presente certificado se lo extiende para los fines solicitados por <style pdfFontName=\"Helvetica-Bold\">" + $F{nombre_solicitante}.toUpperCase() +
"</style> el mismo que servirá para <style pdfFontName=\"Helvetica-Bold\">" + $F{uso_documento}.toUpperCase() + "</style> de acuerdo a la solicitud presentada por el usuario."]]></textFieldExpression>
			</textField>
		</band>
		<band height="130" splitType="Stretch">
			<staticText>
				<reportElement x="315" y="0" width="155" height="16" isPrintWhenDetailOverflows="true" uuid="00ca690f-03c5-4a0e-9108-9210a376c0a9">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<text><![CDATA[Código de Verificación]]></text>
			</staticText>
			<textField>
				<reportElement style="negrita" x="315" y="16" width="155" height="24" isPrintWhenDetailOverflows="true" uuid="0457285b-1249-42b6-939f-744e982a0fe5">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="18" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cod_verificacion}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="380" y="40" width="90" height="90" isPrintWhenDetailOverflows="true" uuid="78d4dfa0-40af-4b05-b91a-406bc472bf2d">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[com.google.zxing.client.j2se.MatrixToImageWriter.toBufferedImage(
    new com.google.zxing.qrcode.QRCodeWriter().encode(
        $F{qrcode},
        com.google.zxing.BarcodeFormat.QR_CODE, 300, 300
    ))]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement style="negrita" positionType="Float" x="0" y="102" width="250" height="28" isPrintWhenDetailOverflows="true" forecolor="#000000" uuid="f14dfd44-be6f-48a6-b5ab-fde9cfe9a220"/>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{REGISTRADOR}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="60" splitType="Stretch">
			<textField evaluationTime="Report">
				<reportElement x="430" y="0" width="40" height="12" uuid="e4dff3fa-2f56-4eb8-a81d-3e60e2598d3b"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="370" y="0" width="59" height="12" uuid="34955d8f-c5a3-4a9b-9903-c311e565eec5"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Página: "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" x="1" y="0" width="369" height="12" uuid="6666df66-e501-43c9-9b4e-4f74b29b3089"/>
				<box rightPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[VALIDEZ DEL CERTIFICADO TÉRMINO DE 30 DÍAS A PARTIR DE LA FECHA DE EMISIÓN]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="240" y="29" width="140" height="8" isPrintWhenDetailOverflows="true" uuid="89177da5-1228-4962-9cf3-b2a5eb0bca5f"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[java.lang.String.format("%08d", $F{num_certificado}) + "-" + $F{codigo_certificado}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH:mm" isBlankWhenNull="true">
				<reportElement x="240" y="36" width="140" height="8" isPrintWhenDetailOverflows="true" uuid="b1cd0ded-8c71-4383-bf80-ca7fbd6d6314"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_emision}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="160" y="36" width="80" height="8" isPrintWhenDetailOverflows="true" uuid="10147000-ba0b-4ecf-96fd-69d45764acc2"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Emisión:]]></text>
			</staticText>
			<staticText>
				<reportElement x="160" y="29" width="80" height="8" isPrintWhenDetailOverflows="true" uuid="d27683f2-a8fc-4ddb-8897-e5e1b05fb6c6"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Nro. de Certificado:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="240" y="15" width="140" height="8" isPrintWhenDetailOverflows="true" uuid="d425463f-6f5c-44d8-adda-4729b94c408e"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{usuario_certificado}.toUpperCase()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="160" y="22" width="80" height="8" isPrintWhenDetailOverflows="true" uuid="fa35a240-11cd-475f-9cc0-e8c56f3152be"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Nro. Factura:]]></text>
			</staticText>
			<staticText>
				<reportElement x="160" y="15" width="80" height="8" isPrintWhenDetailOverflows="true" uuid="1411b360-21aa-42fe-902e-6062027e8f3a"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Usuario Certificado:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="240" y="22" width="140" height="8" isPrintWhenDetailOverflows="true" uuid="48c0c646-e76c-4a81-b656-554314cf5de8"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codigo_comprobante}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
