<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReporteHipotecasMunicipio" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="f81c8a58-05fc-4231-a3f7-b33ea8fa80be">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="negrita" pdfFontName="Helvetica-Bold"/>
	<parameter name="IMG_URL" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="DESDE" class="java.util.Date"/>
	<parameter name="HASTA" class="java.util.Date"/>
	<parameter name="HASTA_STRING" class="java.lang.String"/>
	<parameter name="REGISTRADOR" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<parameter name="NOMBRES" class="java.lang.String"/>
	<queryString>
		<![CDATA[select ac.nombre as tipo_inscripcion, m.fecha_inscripcion, m.num_inscripcion,
trim(m.cuantia_cadena) as cuantia_cadena,
ej.nombre as notaria, m.fecha_oto as fecha_notaria, m.base_imponible as cuantia,
m.id as movimiento, (select f.num_ficha from app.reg_ficha f
left join app.reg_movimiento_ficha mf on mf.ficha = f.id
where mf.movimiento = m.id limit 1) as num_ficha,
(select f.clave_catastral from app.reg_ficha f
left join app.reg_movimiento_ficha mf on mf.ficha = f.id
where mf.movimiento = m.id limit 1) as clave_catastral,
(select f.descripcion_bien from app.reg_ficha f
left join app.reg_movimiento_ficha mf on mf.ficha = f.id
where mf.movimiento = m.id limit 1) as descripcion_bien
from app.reg_movimiento m
left join app.reg_acto ac on (ac.id = m.acto)
left join app.reg_ente_judiciales ej on ej.id = m.ente_judicial
where (m.fecha_inscripcion between $P{DESDE} and $P{HASTA})
and m.libro in (6, 14) and ac.anexo_uno_reg_propiedad order by m.num_inscripcion]]>
	</queryString>
	<field name="tipo_inscripcion" class="java.lang.String"/>
	<field name="fecha_inscripcion" class="java.sql.Timestamp"/>
	<field name="num_inscripcion" class="java.lang.Integer"/>
	<field name="cuantia_cadena" class="java.lang.String"/>
	<field name="notaria" class="java.lang.String"/>
	<field name="fecha_notaria" class="java.sql.Timestamp"/>
	<field name="cuantia" class="java.math.BigDecimal"/>
	<field name="movimiento" class="java.lang.Long"/>
	<field name="num_ficha" class="java.lang.Long"/>
	<field name="clave_catastral" class="java.lang.String"/>
	<field name="descripcion_bien" class="java.lang.String"/>
	<pageHeader>
		<band height="52" splitType="Stretch">
			<staticText>
				<reportElement style="negrita" x="1" y="1" width="340" height="48" uuid="7bbd94d4-397a-4fbb-9156-93315fcef409"/>
				<box>
					<topPen lineWidth="2.0" lineStyle="Double"/>
					<leftPen lineWidth="2.0" lineStyle="Double"/>
					<bottomPen lineWidth="2.0" lineStyle="Double"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="18" isBold="false"/>
				</textElement>
				<text><![CDATA[REPORTE DE INSCRIPCIONES DE HIPOTECAS]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" x="341" y="25" width="100" height="24" uuid="4eea9eb7-84d3-4014-8965-37315688b14c"/>
				<box rightPadding="3">
					<topPen lineWidth="0.0"/>
					<bottomPen lineWidth="2.0" lineStyle="Double"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha Hasta:]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" x="341" y="1" width="100" height="24" uuid="167fbdbc-ca64-4019-8661-cf593cc9237b"/>
				<box rightPadding="3">
					<topPen lineWidth="2.0" lineStyle="Double"/>
					<bottomPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha Desde:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="441" y="1" width="100" height="24" uuid="0510be10-1c06-4b58-9117-7ebdf0ff11d0"/>
				<box leftPadding="3">
					<topPen lineWidth="2.0" lineStyle="Double"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="2.0" lineStyle="Double"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{DESDE}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="441" y="25" width="100" height="24" uuid="24904d32-eebe-4634-9625-310da773a336"/>
				<box leftPadding="3">
					<pen lineWidth="2.0" lineStyle="Double"/>
					<topPen lineWidth="0.0" lineStyle="Double"/>
					<leftPen lineWidth="0.0" lineStyle="Double"/>
					<bottomPen lineWidth="2.0" lineStyle="Double"/>
					<rightPen lineWidth="2.0" lineStyle="Double"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{HASTA_STRING}]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle">
				<reportElement x="542" y="0" width="260" height="50" uuid="bf4e1a36-8191-44cd-9a8f-0a098e72819e"/>
				<box>
					<bottomPen lineWidth="0.0" lineStyle="Double"/>
				</box>
				<imageExpression><![CDATA[$P{IMG_URL}]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="26" splitType="Stretch">
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="0" y="0" width="80" height="26" backcolor="#CCCCCC" uuid="082aabdd-baee-4035-bcd3-75d0458b27b5"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[TIPO INSCRIPCION]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="726" y="0" width="76" height="26" backcolor="#CCCCCC" uuid="4f81eb1b-5251-4aa6-a1c7-16517888a916"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[CUANTÍA]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="228" y="0" width="50" height="26" backcolor="#CCCCCC" uuid="6b72c1d9-4119-4bbb-817e-b7a12e1ea236"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[NOTARÍA]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="80" y="0" width="50" height="26" backcolor="#CCCCCC" uuid="a8405289-cc85-4a23-8d74-5a70faf9567a"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[FECHA DE INSCRIPCIÓN]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="130" y="0" width="50" height="26" backcolor="#CCCCCC" uuid="0ef303ab-ff88-40c0-b37d-893f7cea778e"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[NÚMERO DE INSCRIPCIÓN]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="278" y="0" width="50" height="26" backcolor="#CCCCCC" uuid="f8f6e2fa-5da0-489d-ac96-08bc9a8693da"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[FECHA DE NOTARÍA]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="456" y="0" width="90" height="26" backcolor="#CCCCCC" uuid="1830db7c-d1b5-4b33-a23e-074172263ea8"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[INTERVINIENTES]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="180" y="0" width="48" height="26" backcolor="#CCCCCC" uuid="f3dea6a4-a9ba-4ce0-84e3-afb4233c9ee1"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[NÚMERO DE FICHA]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="328" y="0" width="60" height="26" backcolor="#CCCCCC" uuid="6dbc255f-978e-4c5d-a8ec-cff7d3bb1ce0"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[CÉDULA]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="388" y="0" width="68" height="26" backcolor="#CCCCCC" uuid="4fc88147-fecc-49c9-9e2e-c068b6fc8b39"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[CALIDAD]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="546" y="0" width="80" height="26" backcolor="#CCCCCC" uuid="52bd55d3-b9c8-4a7c-be0b-b0f24a66d76e"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[CLAVE CATASTRAL]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" mode="Transparent" x="626" y="0" width="100" height="26" backcolor="#CCCCCC" uuid="c5f361e0-b2e9-4e5d-bc48-97bb5cd38e35"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[UBICACIÓN DEL BIEN]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="50" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="278" y="0" width="50" height="50" isPrintWhenDetailOverflows="true" uuid="becef981-d905-408e-82a0-1120a0622171"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_notaria}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="80" height="50" isPrintWhenDetailOverflows="true" uuid="b0c2fae9-4ada-42d2-9ec8-45603b666319"/>
				<box leftPadding="2">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipo_inscripcion}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="130" y="0" width="50" height="50" isPrintWhenDetailOverflows="true" uuid="6e64686c-0169-4dbd-b80f-de14aa0ed12a"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_inscripcion}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="228" y="0" width="50" height="50" isPrintWhenDetailOverflows="true" uuid="85cf3edd-fa98-4bde-bbc1-7d37390ba0ba"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{notaria}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="726" y="0" width="76" height="50" isPrintWhenDetailOverflows="true" uuid="7b7e2862-45d2-4944-8edd-8aff3af929e9"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cuantia_cadena} != null ? $F{cuantia_cadena} :
$F{cuantia} == null ? "INDETERMINADA" :
$F{cuantia}.compareTo(new BigDecimal("0.00")) > 0 ? $F{cuantia} : "INDETERMINADA"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="80" y="0" width="50" height="50" isPrintWhenDetailOverflows="true" uuid="440f1731-f15a-4309-8934-2d5e2d439d4f"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_inscripcion}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement stretchType="RelativeToBandHeight" x="328" y="0" width="218" height="50" isPrintWhenDetailOverflows="true" uuid="907db1f9-c932-4833-b22f-6be7b1314e35"/>
				<subreportParameter name="MOVIMIENTO">
					<subreportParameterExpression><![CDATA[$F{movimiento}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "Reporte_subreport_intervinientes.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="180" y="0" width="48" height="50" isPrintWhenDetailOverflows="true" uuid="58a3478a-a099-4f7d-946a-3061cac542f4"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_ficha}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="546" y="0" width="80" height="50" isPrintWhenDetailOverflows="true" uuid="38e534a5-cbe5-43a0-826f-1f14d9d423f3"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{clave_catastral}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="626" y="0" width="100" height="50" isPrintWhenDetailOverflows="true" uuid="999cad4f-9828-4f91-98f6-d9f8628983b1"/>
				<box leftPadding="1" rightPadding="1">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="6"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{descripcion_bien}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="14" splitType="Stretch">
			<textField>
				<reportElement x="682" y="0" width="80" height="14" uuid="0ee07b0b-915a-40e7-871d-713f54f805d3"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Pág. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="762" y="0" width="40" height="14" uuid="85d2f5bd-3611-47b0-9387-c6e4b709b625"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="85" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement style="negrita" x="258" y="52" width="300" height="32" isPrintWhenDetailOverflows="true" uuid="f2bbe6d6-f3a7-40ed-9851-4fe6d2be0da1"/>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{REGISTRADOR}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" x="0" y="48" width="100" height="12" uuid="6b0f7d78-84b2-4941-a792-b87b9688799a"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Responsable:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement style="negrita" x="0" y="60" width="228" height="24" isPrintWhenDetailOverflows="true" uuid="f608fba4-caac-46f4-a142-7d3e1a4ce51f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{NOMBRES}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
