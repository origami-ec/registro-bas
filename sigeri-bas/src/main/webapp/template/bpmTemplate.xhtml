<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >

    <f:view contentType="text/html" locale="es" encoding="UTF-8" />
    <!-- 	Carga la pagina de login si el usuario no esta logeado -->
    <!--<f:event type="preRenderView" listener="# {userSession.redirectInvitado()}" />-->

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
            <link rel="shortcut icon" type="image/jpg" href="#{appConfig.urlbase}resources/paradise-layout/images/origami.ico" />
            <!--<meta http-equiv="refresh" content="#{facesContext.externalContext.sessionMaxInactiveInterval};url=#{request.contextPath}/login.xhtml"/>-->
        </f:facet>
        <title><ui:insert name="title">#{userSession.titlePage eq null? userSession.topPage : userSession.titlePage}</ui:insert></title>
        <h:outputScript name="js/nanoscroller.js" library="paradise-layout" />
        <h:outputScript name="js/layout.js" library="paradise-layout" />
        <h:outputScript name="app.js" library="js" />
        <ui:insert name="head"/>
    </h:head>

    <h:body styleClass="#{guestPreferences.inputStyleClass}">
        <div class="layout-wrapper #{guestPreferences.menuMode} ">
            <ui:include src="responsive/headerNav.xhtml" /> 
            <div class="layout-main">
                <ui:include src="responsive/menu.xhtml" />
                <div class="layout-content">
                    <ui:insert name="content"/>
                </div>
                <!--<ui:include src="./footer.xhtml" />-->
            </div>      

        </div>
        <p:growl  globalOnly="true" showDetail="true" showSummary="true"   >
            <p:autoUpdate />
        </p:growl>
        <!--<p:messages forType="key" globalOnly="true" showIcon="true" />-->
        <!--<b:growl autoUpdate="true" globalOnly="true" newestOnTop="true" />-->
        <!--<p:ajaxStatus style="width:32px;height:32px;position:fixed;right:7px;bottom:7px">
            <f:facet name="start">
                <i class="fa fa-circle-o-notch fa-spin ajax-loader" aria-hidden="true"></i>
            </f:facet>

            <f:facet name="complete">
                <h:outputText value="" />
            </f:facet>
        </p:ajaxStatus>-->
        <p:ajaxStatus onstart="PF('dlgStatus').show()" oncomplete="PF('dlgStatus').hide()" />
        <p:dialog id="dlgStatus" widgetVar="dlgStatus" modal="true" draggable="false"  closable="false"
                  resizable="false" showHeader="false" style=".ui-widget-overlay {
                      background-color: white !important
                  }   " >
            <br/>
            <p:graphicImage name="images/origami_icono.jpg"   width="50" height="50"  library="paradise-layout" /><br/>
            <center>
                <p:graphicImage name="images/cargando.gif" library="paradise-layout" width="50" height="50" /> 
            </center>
        </p:dialog>
        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
            <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" />
        </p:confirmDialog>
        <div class="layout-mask modal-in"></div>
        <h:outputStylesheet name="css/primeicons.css" library="paradise-layout" />
        <h:outputStylesheet name="css/primeflex.min.css" library="paradise-layout" />
        <!--<h:outputStylesheet name="css/demo.css" library="demo" />-->

        <h:outputStylesheet name="css/nanoscroller.css" library="paradise-layout" />
        <h:outputStylesheet name="css/layout-#{guestPreferences.layout}.css" library="paradise-layout" />

    </h:body>

</html>